<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>회원가입</title>
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
</head>
<body>
<header th:replace="~{layouts/header :: header}"></header>
<main class="container my-5">
<div class="card p-4 shadow-sm">
<h3 class="text-center mb-4">회원가입</h3>
<form method="post" th:action="@{/member/join}" th:object="${member}">

    <!-- 아이디 -->
    <div class="mb-3">
        <label>아이디</label>
        <input class="form-control" th:field="*{memberId}" id="memberId" required />
        <div id="idLabel" class="mt-1" style="font-size:14px;"></div>
    </div>

    <!-- 비밀번호 -->
    <div class="mb-3">
        <label>비밀번호</label>
        <input type="password" class="form-control" th:field="*{password}" id="password" required />
        <div id="passwordLabel" class="mt-1" style="font-size:14px;"></div>
    </div>

    <!-- 비밀번호 확인 -->
    <div class="mb-3">
        <label>비밀번호 확인</label>
        <input type="password" class="form-control" id="passwordConfirm" required />
        <div id="passwordConfirmLabel" class="mt-1" style="font-size:14px;"></div>
    </div>

    <!-- 닉네임 -->
    <div class="mb-3">
        <label>닉네임</label>
        <input class="form-control" th:field="*{nickName}" id="nickName" required />
        <div id="nickLabel" class="mt-1" style="font-size:14px;"></div>
    </div>

    <!-- 이름 -->
    <div class="mb-3">
        <label>이름</label>
        <input class="form-control" th:field="*{memberName}" required />
    </div>

    <!-- 생년월일 -->
    <div class="row mb-3">
        <div class="col">
            <input class="form-control" th:field="*{year}" placeholder="년(4자)" maxlength="4" required />
        </div>
        <div class="col">
            <input class="form-control" th:field="*{month}" placeholder="월" maxlength="2" required />
        </div>
        <div class="col">
            <input class="form-control" th:field="*{day}" placeholder="일" maxlength="2" required />
        </div>
    </div>

    <!-- 이메일 -->
    <div class="mb-3">
        <label>이메일</label>
        <input type="email" class="form-control" th:field="*{email}" id="email" required />
        <div id="emailLabel" class="mt-1" style="font-size:14px;"></div>
        <button type="button" class="btn btn-outline-primary mt-2" id="sendCodeBtn" disabled>인증번호 받기</button>
        <div id="verifyCodeWrap" class="mt-2" style="display:none;">
            <input class="form-control" id="verifyCodeInput" placeholder="인증번호 입력">
            <button type="button" class="btn btn-outline-success mt-2" id="verifyCodeBtn">인증 확인</button>
        </div>
    </div>

    <input type="hidden" id="emailVerified" value="false">

    <!-- 주소 -->
    <div class="mb-3">
        <label>주소</label>
        <input class="form-control mb-2" id="address1" readonly placeholder="주소 검색 클릭" onclick="execDaumPostcode()">
        <input class="form-control" id="address2" placeholder="상세주소">
        <input type="hidden" id="address" th:field="*{address}" />
    </div>

    <!-- 전화번호 -->
    <div class="mb-3">
        <label>전화번호</label>
        <input class="form-control" th:field="*{phone}" required />
    </div>

    <!-- 약관 -->
    <div class="mb-3 form-check">
        <input type="checkbox" class="form-check-input" id="agree" required>
        <label class="form-check-label" for="agree">이용약관 및 개인정보처리방침 동의</label>
    </div>

    <button type="submit" class="btn btn-success w-100">회원가입</button>
</form>
</div>
</main>
<footer th:replace="~{layouts/footer :: footer}"></footer>

<script th:src="@{/js/joinForm.js}"></script>
</body>
</html>
